(this["webpackJsonpbisons-ui"]=this["webpackJsonpbisons-ui"]||[]).push([[0],{119:function(e,t,a){},142:function(e,t,a){},143:function(e,t,a){"use strict";a.r(t);var n=a(6),c=a(0),s=a.n(c),r=a(29),i=a.n(r),o=(a(119),a(67)),l=a(68),h=a(80),d=a(78),u=a(145),j=a(150),b=a(110),g=a(153),O=a(154),p=a(155),f=a(156),x=a(83),m=(a(90),a(63)),y=a(146),S=a(151),v=a(59),C=a(36),_=a(79),k=m.a.Option;function D(e){var t=e.type,a=e.onChange;return console.log(t),"date"===t?Object(n.jsx)(y.a,{onChange:a}):Object(n.jsx)(y.a,{picker:t,onChange:a})}var Y=function(e){var t=Object(c.useState)("year"),a=Object(x.a)(t,2),s=a[0],r=a[1],i=Object(c.useState)(0),o=Object(x.a)(i,2),l=o[0],h=o[1],d=Object(c.useState)(0),u=Object(x.a)(d,2),j=u[0],b=u[1];return Object(n.jsxs)("div",{children:[Object(n.jsxs)(S.b,{size:"small",children:[Object(n.jsx)("h4",{children:"Filter By:"}),Object(n.jsxs)(m.a,{className:"dateSearchSelect",value:s,bordered:!1,onChange:r,children:[Object(n.jsx)(k,{value:"date",children:"Date"}),Object(n.jsx)(k,{value:"month",children:"Month"}),Object(n.jsx)(k,{value:"year",children:"Year"})]})]}),Object(n.jsxs)(v.a,{gutter:[16,8],className:"datePickerSearch",children:[Object(n.jsx)(C.a,{span:5,children:Object(n.jsx)("h4",{children:"From: "})}),Object(n.jsx)(C.a,{span:19,children:Object(n.jsx)(D,{type:s,onChange:function(t){return e.onSDateChange(function(e,t){return null==e?"0000":"date"===t?e.format("YYYY-MM-DD"):"month"===t?e.format("YYYY-MM"):e.format("YYYY")}(t,s)),b(j+1)}})})]}),Object(n.jsxs)(v.a,{gutter:[16,8],className:"datePickerSearch",children:[Object(n.jsx)(C.a,{span:5,children:Object(n.jsx)("h4",{children:"To: "})}),Object(n.jsx)(C.a,{span:19,children:Object(n.jsx)(D,{type:s,onChange:function(t){return e.onEDateChange(function(e,t){return null==e?"9999":"date"===t?e.format("YYYY-MM-DD"):"month"===t?e.format("YYYY-MM"):e.format("YYYY")}(t,s)),b(j+1)}})})]}),0!==j?Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("span",{children:Object(n.jsx)(_.a,{type:"link",className:"clear-button",onClick:function(){return h(l+1),b(0),void e.onClearChange()},children:"Clear"})})}):Object(n.jsx)(n.Fragment,{})]},l)},w=a(87),z=a.n(w),B=a(149),F=a(147),M=a(109),A=a(108),N=a(148),I=a(152),q=B.a.Search,T="LD4e9CjPc5G01j25lzQO",P="article",L="0000",J="9999";function E(e){console.log("type: "+P);var t="https://digital.harding.edu/BisonsUI/API/";return t+="?type="+P,t+="&query="+e,t+="&bdate="+L,t+="&edate="+J}function Q(e){return void 0===e.author||0===e.author.length?"unknown":e.author[0].author_id.full_name}function R(e,t,a){return e.map((function(e){return Object(n.jsxs)(F.a,{loading:a,children:[Object(n.jsxs)(v.a,{className:"cardTopPart",children:[Object(n.jsx)(C.a,{span:21,children:Object(n.jsx)("h3",{children:e.title})}),Object(n.jsx)(C.a,{span:3,children:Object(n.jsx)(M.a,{title:"Read the article",children:Object(n.jsx)(_.a,{type:"circle link",target:"_blank",href:(c=e,"https://digital.harding.edu/thebison/"+c.release_date+".pdf#page="+c.page),icon:Object(n.jsx)(I.a,{})})})})]}),Object(n.jsxs)("p",{className:"card-date",children:["In: ",e.release_date,", page: ",e.page]}),Object(n.jsxs)("p",{className:"card-author",children:["By: ",Q(e)]}),Object(n.jsx)("div",{className:"card-tags",children:e.tag.map((function(e){return Object(n.jsx)(A.a,{children:e.tag_id.subject},e.tag_id.subject)}))})]},t+e.title);var c}))}var K=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={articles:[],found:!1,current_search:"bison",loading:!0,is_temp:!0,cur_page:1,page_size:10,cur_articles:null,last_key:0},e.onSearch=function(t){return e.updateArticleList(t)},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),z.a.get(E(this.props.query),{headers:{Authorization:"Bearer ".concat(T)}}).then((function(t){var a=Array.from(t.data.data);e.setState({loading:!0,found:!0,articles:a,is_temp:!1})}))}},{key:"updateArticleList",value:function(e){var t=this;this.cur_page=0,this.setState({loading:!0},(function(){return z.a.get(E(e),{headers:{Authorization:"Bearer ".concat(T)}}).then((function(a){var n=Array.from(a.data.data);if(console.log(a.data.data.length),console.log(n.length),"undefined"!==typeof a.data.data&&0!==n.length){var c=e;t.setState({loading:!1,found:!0,articles:n,current_search:c})}else{console.log("no results");var s=e;t.setState({loading:!1,found:!1,current_search:s})}}))}))}},{key:"showSearchResults",value:function(e){var t,a,c=this,s=function(t){var a=c.state.last_key+1;c.setState({cur_page:t}),c.setState({last_key:a}),c.setState({loading:!1,found:e.found,current_search:e.query})},r=function(e,t){console.log(t),c.setState({page_size:t}),console.log("Page size: "+c.state.page_size)};if(e.is_temp)return[1,2,3,4,5].map((function(e){return Object(n.jsx)(F.a,{loading:!0},"temp article"+e)}));if(e.found){var i=[10,20,50],o=10*(this.state.cur_page-1),l=o+this.state.page_size,h=e.articles.length;return this.state.cur_articles=e.articles.slice(o,l),console.log("Found Articles: "+h),this.state.loading?Object(n.jsx)(n.Fragment,{children:R(this.state.cur_articles,e.query,e.is_loading)}):Object(n.jsxs)(n.Fragment,{children:[(t=h,Object(n.jsxs)("p",{className:"results-num",children:["Your search found ",t," results."]})),Object(n.jsx)(N.a,{size:"small",current:this.state.cur_page,total:h,onChange:s,onShowSizeChange:r,pageSizeOptions:i,showQuickJumper:!0}),R(this.state.cur_articles,e.query,e.is_loading),Object(n.jsx)(N.a,{size:"small",current:this.state.cur_page,total:h,onChange:s,onShowSizeChange:r,pageSizeOptions:i,showQuickJumper:!0})]})}return a=e.query,console.log(a),Object(n.jsx)(F.a,{children:Object(n.jsx)("h3",{children:'Your search: "'+a+'" found no results.'})},a+"not_found")}},{key:"performSearch",value:function(e){return"keyword"==e.query&&console.log("we are inside keyword"),this.showSearchResults(e)}},{key:"render",value:function(){this.state.loading;P=this.props.mysearch,L=this.props.bDate,J=this.props.eDate;var e={found:this.state.found,articles:this.state.articles,query:this.state.current_search,is_loading:this.state.loading,is_temp:this.state.is_temp};return Object(n.jsx)(v.a,{gutter:[8,24],justify:"center",children:Object(n.jsx)(C.a,{children:Object(n.jsx)("div",{id:"SearchBox",children:Object(n.jsxs)("div",{id:"BisonsList",children:[Object(n.jsx)(q,{placeholder:"Search an article",onSearch:this.onSearch,enterButton:!0}),this.performSearch(e)]},"The Search Box"+this.last_key)})})})}}]),a}(s.a.Component),G=(a(142),u.a.Content),U=u.a.Sider,W=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClearDate=function(e){console.log("date cleared"),n.setState({beginDate:"0000"}),n.setState({finalDate:"9999"})},n.handleBeginDate=function(e){console.log(e),console.log("in begin date "+e),n.setState({beginDate:e}),console.log(n.state.beginDate)},n.handleFinalDate=function(e){console.log(e),console.log("in end date "+e),n.setState({finalDate:e}),console.log(n.state.finalDate)},n.handleChange=function(e){var t=e.key;n.setState({selectedOption:t}),console.log(e.key)},n.onCollapse=function(e){console.log(e),n.setState({collapsed:e})},n.initialState={collapsed:!1,selectedOption:"keyword",beginDate:"0000",finalDate:"9999"},n.state=n.initialState,n}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsxs)(u.a,{children:[Object(n.jsxs)(U,{breakpoint:"md",collapsedWidth:"0",children:[Object(n.jsx)("h1",{children:"Category Search"}),Object(n.jsxs)(j.a,{"data-id":"searchTypeMenu",theme:"dark",mode:"inline",defaultSelectedKeys:["keyword"],children:[Object(n.jsx)(j.a.Item,{onClick:this.handleChange,icon:Object(n.jsx)(b.a,{}),children:"Search by Keyword"},"keyword"),Object(n.jsx)(j.a.Item,{onClick:this.handleChange,icon:Object(n.jsx)(g.a,{}),children:"Search by Author"},"author"),Object(n.jsx)(j.a.Item,{onClick:this.handleChange,icon:Object(n.jsx)(O.a,{}),children:"Search by Title"},"article"),Object(n.jsx)(j.a.Item,{onClick:this.handleChange,icon:Object(n.jsx)(p.a,{}),children:"Search by Tag"},"tag"),Object(n.jsx)(j.a.Item,{onClick:this.handleChange,icon:Object(n.jsx)(f.a,{}),children:"Search by Text"},"text")]}),Object(n.jsx)("h1",{children:"Date Limiter"}),Object(n.jsx)("div",{className:"DateSearchDiv",children:Object(n.jsx)(Y,{onSDateChange:this.handleBeginDate,onEDateChange:this.handleFinalDate,onClearChange:this.handleClearDate})})]}),Object(n.jsx)(u.a,{children:Object(n.jsx)(G,{style:{margin:"24px 16px 0"},children:Object(n.jsx)(K,{mysearch:this.state.selectedOption,query:"bison",bDate:this.state.beginDate,eDate:this.state.finalDate})})})]})}}]),a}(s.a.Component);var H=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(W,{})})},V=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,158)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(H,{})}),document.getElementById("root")),V()}},[[143,1,2]]]);
//# sourceMappingURL=main.c30086d1.chunk.js.map